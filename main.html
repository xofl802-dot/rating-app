<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>감정평가부 직원 평가 시스템</title>

<style>

body{
    font-family: 맑은고딕;
    padding:20px;
}

table{
    border-collapse: collapse;
    width:100%;
}

th, td{
    border:1px solid #ccc;
    padding:8px;
    text-align:center;
}

th{
    background:#f2f2f2;
}

input[type=number]{
    width:60px;
}

input[type=text]{
    width:200px;
}

textarea{
    width:300px;
    height:60px;
}

button{
    padding:10px;
    margin-top:10px;
    font-size:16px;
}

</style>

</head>
<body>

<h2>감정평가부 직원 평가</h2>

평가자 이름:
<input type="text" id="evaluator">

<br><br>

평가서번호:
<input type="text" id="reportNo" placeholder="예: 2501-04-4550">

<br><br>

<table>

<tr>
<th>직원명</th>
<th>속도</th>
<th>정확성</th>
<th>협력성</th>
<th>기타</th>
<th>코멘트</th>
<th>총점</th>
</tr>

<script>

const 직원목록 = [
"김경호",
"김진영",
"신의정",
"최재은",
"박현수",
"윤정균",
"박소미",
"박태용",
"박창범",
"한우진"
];

직원목록.forEach((name, index)=>{

document.write(`

<tr>

<td>${name}</td>

<td>
<input type="number" min="0" max="25"
onchange="calc(${index})"
id="speed${index}">
</td>

<td>
<input type="number" min="0" max="25"
onchange="calc(${index})"
id="accuracy${index}">
</td>

<td>
<input type="number" min="0" max="25"
onchange="calc(${index})"
id="team${index}">
</td>

<td>
<input type="number" min="0" max="25"
onchange="calc(${index})"
id="etc${index}">
</td>

<td>
<textarea id="comment${index}"></textarea>
</td>

<td id="total${index}">0</td>

</tr>

`);

});

function calc(i){

let speed =
Number(document.getElementById("speed"+i).value);

let accuracy =
Number(document.getElementById("accuracy"+i).value);

let team =
Number(document.getElementById("team"+i).value);

let etc =
Number(document.getElementById("etc"+i).value);

let total =
speed + accuracy + team + etc;

document.getElementById("total"+i).innerText
= total;

}

function save(){

let evaluator =
document.getElementById("evaluator").value;

let reportNo =
document.getElementById("reportNo").value;

let data = [];

직원목록.forEach((name,i)=>{

data.push({

평가자: evaluator,

평가서번호: reportNo,

직원명: name,

속도:
document.getElementById("speed"+i).value,

정확성:
document.getElementById("accuracy"+i).value,

협력성:
document.getElementById("team"+i).value,

기타:
document.getElementById("etc"+i).value,

코멘트:
document.getElementById("comment"+i).value,

총점:
document.getElementById("total"+i).innerText

});

});

console.log(data);

alert("저장완료 (콘솔확인)");

}

</script>

</table>

<button onclick="save()">저장</button>

</body>
</html>
